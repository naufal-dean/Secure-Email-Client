{% load loader_tags %}{% extends 'base/base.html' %}
{% load i18n %}
{% load webtags %}

{% block inpage_title %}{{ folder }}{% endblock %}

{% block headercontent %}
<link href="{{ STATIC_URL }}css/message_list.css" rel="stylesheet" type="text/css"></link>
{% endblock %}

{% block extra_menus %}
<a href="{% url 'folder_list' %}"><img class="top_menu_entry" src="{{ STATIC_URL }}img/folder.svg" width="32px" height="32px" title="{% trans "Folder List" %}"></a>
<a href="{% url 'mailapp_send_message' %}"><img class="top_menu_entry" src="{{ STATIC_URL }}img/mail-message-new.svg" width="32px" height="32px" title="{% trans "New Message" %}"></a>
&nbsp;
{% if folder.have_messages %}
<img id="tools_menu_toggle" class="menu_button" src="{{ STATIC_URL }}img/tools.svg" width="32px" height="32px" title="{% trans "Message list tools menu" %}">
{% endif %}
<img id="filter_menu_toggle" class="menu_button" src="{{ STATIC_URL }}img/view-filter.svg" width="32px" height="32px" title="{% trans "Message list filter menu" %}">
{% endblock %}

{% block contents %}
<form method="post" action="{% url 'mailapp_message_process' folder=folder uid=uid %}">
    {% csrf_token %}
    <label for="use_decryption">Decrypt Email Content</label><br>
    <input type="checkbox" name="use_decryption"><br>
    <label for="decription_key">Decryption Key</label><br>
    <input type="text" pattern=".{32}" name="decription_key" placeholder="decription key" /><br>
    <br>
    <label for="use_validation">Validate Signature</label><br>
    <input type="checkbox" name="use_validation"><br>
    <label for="validation_pub_key_a">Public Key (a)</label><br>
    <input type="number" name="validation_pub_key_a" placeholder="public key (a)" /><br>
    <label for="validation_pub_key_b">Public Key (b)</label><br>
    <input type="number" name="validation_pub_key_b" placeholder="public key (b)" /><br>
    <label for="validation_pub_key_p">Public Key (p)</label><br>
    <input type="number" name="validation_pub_key_p" placeholder="public key (p)" /><br>
    <label for="validation_pub_key_Qx">Public Key (Q.x)</label><br>
    <input type="number" name="validation_pub_key_Qx" placeholder="public key (Q.x)" /><br>
    <label for="validation_pub_key_Qy">Public Key (Q.y)</label><br>
    <input type="number" name="validation_pub_key_Qy" placeholder="public key (Q.y)" /><br>
    <br>
    <input type="submit" name="submit" value="{% trans "Submit" %}" />
</form>
<form method="get" action="{% url 'mailapp-message' folder=folder uid=uid %}">
    <input type="submit" name="cancel" value="{% trans "Cancel" %}" />
</form>
{% endblock %}
